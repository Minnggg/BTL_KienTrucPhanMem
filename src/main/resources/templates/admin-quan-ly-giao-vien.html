<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Danh S√°ch Gi√°o Vi√™n</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">

<h2>Danh S√°ch Gi√°o Vi√™n</h2>

<div class="mb-3 d-flex justify-content-between">
    <a class="btn btn-primary" th:href="@{/admin/dashboard}">üè† Quay l·∫°i trang ƒëi·ªÅu khi·ªÉn</a>
    <a class="btn btn-success" th:href="@{/admin/giaovien/form}">‚ûï Th√™m Gi√°o Vi√™n</a>
</div>

<table class="table table-bordered table-striped">
    <thead class="table-dark">
    <tr>
        <th>ID</th>
        <th>H·ªç t√™n</th>
        <th>Ng√†y sinh</th>
        <th>Email</th>
        <th>S·ªë ƒëi·ªán tho·∫°i</th>
        <th>Username</th>
        <th>Chuy√™n m√¥n</th>
        <th>Tr√¨nh ƒë·ªô</th>
        <th>H√†nh ƒë·ªông</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="gv : ${listGV}">
        <td th:text="${gv.id}"></td>
        <td th:text="${gv.thanhVien.hoten}"></td>
        <td th:text="${gv.thanhVien.ngaysinh}"></td>
        <td th:text="${gv.thanhVien.email}"></td>
        <td th:text="${gv.thanhVien.sdt}"></td>
        <td th:text="${gv.username}"></td>
        <td th:text="${gv.chuyenMon}"></td>
        <td th:text="${gv.trinhDo}"></td>
        <td>
            <a class="btn btn-warning btn-sm me-1"
               href="#"
               data-bs-toggle="modal"
               th:attr="data-bs-target='#editModal__' + ${gv.id}">‚úèÔ∏è S·ª≠a</a>

            <a class="btn btn-danger btn-sm" th:href="@{'/admin/giaovien/delete/' + ${gv.id}}"
               onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a gi√°o vi√™n n√†y kh√¥ng?');">üóëÔ∏è X√≥a</a>
        </td>
        <!-- Edit Modal -->
        <div class="modal fade" th:id="'editModal__' + ${gv.id}" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <form th:action="@{/admin/giaovien/update}" method="post">
                        <div class="modal-header">
                            <h5 class="modal-title">C·∫≠p nh·∫≠t th√¥ng tin nh√¢n vi√™n</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" name="id" th:value="${gv.id}"/>

                            <div class="row mb-3">
                                <div class="col">
                                    <label class="form-label">H·ªç t√™n</label>
                                    <input type="text" class="form-control" name="hoten" th:value="${gv.thanhVien.hoten}" required>
                                </div>
                                <div class="col">
                                    <label class="form-label">Ng√†y sinh</label>
                                    <input type="date" class="form-control" name="ngaysinh" th:value="${gv.thanhVien.ngaysinh}" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" name="email" th:value="${gv.thanhVien.email}" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                                <input type="text" class="form-control" name="sdt" th:value="${gv.thanhVien.sdt}" required>
                            </div>

                            <div class="row mb-3">
                                <div class="col">
                                    <label class="form-label">Username</label>
                                    <input type="text" class="form-control" name="username" th:value="${gv.username}" required>
                                </div>
                                <div class="col">
                                    <label class="form-label">Chuy√™n m√¥n</label>
                                    <input type="text" class="form-control" name="chuyenMon" th:value="${gv.chuyenMon}" required>
                                </div>
                                <div class="col">
                                    <label class="form-label">Tr√¨nh ƒë·ªô</label>
                                    <input type="text" class="form-control" name="trinhDo" th:value="${gv.trinhDo}" required>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
                            <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </tr>
    </tbody>
</table>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
